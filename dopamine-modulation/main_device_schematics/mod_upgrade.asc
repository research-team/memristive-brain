Version 4
SHEET 1 2036 680
WIRE -80 -944 -592 -944
WIRE -496 -864 -512 -864
WIRE -208 -864 -224 -864
WIRE -912 -848 -928 -848
WIRE -224 -800 -224 -864
WIRE -208 -800 -224 -800
WIRE -128 -800 -128 -864
WIRE -128 -800 -144 -800
WIRE -1088 -752 -1104 -752
WIRE -1024 -752 -1088 -752
WIRE -592 -752 -592 -944
WIRE -512 -752 -512 -864
WIRE -496 -752 -512 -752
WIRE -928 -736 -928 -848
WIRE -912 -736 -928 -736
WIRE -416 -736 -416 -864
WIRE -416 -736 -432 -736
WIRE -336 -736 -416 -736
WIRE -224 -736 -224 -800
WIRE -224 -736 -256 -736
WIRE -208 -736 -224 -736
WIRE -832 -720 -832 -848
WIRE -832 -720 -848 -720
WIRE -816 -720 -832 -720
WIRE -592 -720 -592 -752
WIRE -592 -720 -752 -720
WIRE -496 -720 -512 -720
WIRE -128 -720 -128 -800
WIRE -128 -720 -144 -720
WIRE -80 -720 -128 -720
WIRE -1024 -704 -1360 -704
WIRE -944 -704 -944 -752
WIRE -912 -704 -944 -704
WIRE -208 -704 -224 -704
WIRE -1024 -656 -1328 -656
WIRE -944 -656 -944 -704
WIRE -256 -656 -256 -736
WIRE -512 -592 -512 -720
WIRE -416 -592 -416 -608
WIRE -224 -528 -464 -528
WIRE -128 -528 -144 -528
WIRE 512 -496 400 -496
WIRE -1360 -448 -1360 -704
WIRE -1072 -448 -1360 -448
WIRE -208 -432 -224 -432
WIRE -128 -432 -128 -528
WIRE -496 -416 -512 -416
WIRE -928 -400 -944 -400
WIRE -1152 -368 -1168 -368
WIRE -1072 -368 -1072 -448
WIRE -224 -368 -224 -432
WIRE -208 -368 -224 -368
WIRE -128 -368 -128 -432
WIRE -128 -368 -144 -368
WIRE 240 -368 240 -432
WIRE 400 -368 400 -496
WIRE -688 -336 -768 -336
WIRE -592 -320 -592 -416
WIRE -576 -320 -592 -320
WIRE -944 -304 -944 -400
WIRE -928 -304 -944 -304
WIRE -496 -304 -496 -416
WIRE -496 -304 -512 -304
WIRE -464 -304 -496 -304
WIRE -336 -304 -400 -304
WIRE -224 -304 -224 -368
WIRE -224 -304 -256 -304
WIRE -208 -304 -224 -304
WIRE -1168 -288 -1168 -368
WIRE -1152 -288 -1168 -288
WIRE -848 -288 -848 -400
WIRE -848 -288 -864 -288
WIRE -688 -288 -848 -288
WIRE -608 -288 -608 -336
WIRE -576 -288 -608 -288
WIRE -128 -288 -128 -368
WIRE -128 -288 -144 -288
WIRE -80 -288 -128 -288
WIRE -1072 -272 -1072 -368
WIRE -1072 -272 -1088 -272
WIRE -928 -272 -944 -272
WIRE -208 -272 -224 -272
WIRE -1264 -256 -1424 -256
WIRE -1168 -256 -1184 -256
WIRE -1152 -256 -1168 -256
WIRE -256 -256 -256 -304
WIRE -608 -240 -608 -288
WIRE -944 -208 -944 -272
WIRE -848 -208 -944 -208
WIRE -608 -208 -608 -240
WIRE -1168 -176 -1168 -256
WIRE -1152 -176 -1168 -176
WIRE -1072 -176 -1072 -272
WIRE 240 -144 240 -272
WIRE 400 -144 400 -272
WIRE -848 -112 -848 -128
WIRE -608 -112 -608 -128
WIRE -1328 -48 -1328 -656
WIRE -1072 -48 -1328 -48
WIRE -688 -48 -688 -240
WIRE -688 -48 -1072 -48
WIRE -256 -48 -256 -176
WIRE -128 -48 -256 -48
WIRE -496 32 -512 32
WIRE -208 32 -224 32
WIRE -128 32 -128 -48
WIRE -928 48 -944 48
WIRE -1152 80 -1168 80
WIRE -1072 80 -1072 -48
WIRE -688 112 -784 112
WIRE -592 128 -592 32
WIRE -576 128 -592 128
WIRE -944 144 -944 48
WIRE -928 144 -944 144
WIRE -496 144 -496 32
WIRE -496 144 -512 144
WIRE -400 144 -496 144
WIRE -224 144 -224 32
WIRE -224 144 -256 144
WIRE -208 144 -224 144
WIRE -1168 160 -1168 80
WIRE -1152 160 -1168 160
WIRE -848 160 -848 48
WIRE -848 160 -864 160
WIRE -688 160 -848 160
WIRE -608 160 -608 112
WIRE -576 160 -608 160
WIRE -128 160 -128 32
WIRE -128 160 -144 160
WIRE -1072 176 -1072 80
WIRE -1072 176 -1088 176
WIRE -928 176 -944 176
WIRE -208 176 -224 176
WIRE -1264 192 -1408 192
WIRE -1168 192 -1184 192
WIRE -1152 192 -1168 192
WIRE -608 208 -608 160
WIRE -944 240 -944 176
WIRE -848 240 -944 240
WIRE -608 240 -608 208
WIRE -1168 272 -1168 192
WIRE -1152 272 -1168 272
WIRE -1072 272 -1072 176
WIRE -848 336 -848 320
WIRE -608 336 -608 320
WIRE -1360 416 -1360 -448
WIRE -688 416 -688 208
WIRE -688 416 -1360 416
FLAG -544 -336 +5
FLAG -544 -272 -5
FLAG 128 368 0
FLAG -336 368 0
FLAG -1120 -304 +5
FLAG -1120 -240 -5
FLAG -896 -320 +5
FLAG -896 -256 -5
FLAG -1008 -304 0
FLAG -1008 -400 0
FLAG -1008 -192 0
FLAG -672 -416 0
FLAG -768 -336 -5
FLAG -896 128 +5
FLAG -896 192 -5
FLAG -1008 144 0
FLAG -1008 48 0
FLAG -1008 256 0
FLAG -848 336 0
FLAG -848 -112 0
FLAG -544 112 +5
FLAG -544 176 -5
FLAG -672 32 0
FLAG -784 112 -5
FLAG -1168 -112 0
FLAG -1248 -368 0
FLAG -1120 144 +5
FLAG -1120 208 -5
FLAG -1168 336 0
FLAG -1248 80 0
FLAG -176 -320 +5
FLAG -176 -256 -5
FLAG -176 128 +5
FLAG -176 192 -5
FLAG -224 176 0
FLAG -224 -272 0
FLAG -608 -112 0
FLAG -608 336 0
FLAG -80 -288 Inhibitor
IOPIN -80 -288 Out
FLAG -880 -752 +5
FLAG -880 -688 -5
FLAG -1008 -848 0
FLAG -1088 -832 0
FLAG -464 -768 +5
FLAG -464 -704 -5
FLAG -1184 -752 -5
FLAG -176 -752 +5
FLAG -176 -688 -5
FLAG -224 -704 0
FLAG -256 -576 0
FLAG -416 -608 0
FLAG -80 -720 Hebbian
IOPIN -80 -720 Out
FLAG -80 -944 Sombrero
IOPIN -80 -944 Out
FLAG 240 -656 0
FLAG 368 -656 0
FLAG 368 -736 -5
FLAG 240 -736 +5
FLAG -1408 192 Tpost
IOPIN -1408 192 In
FLAG -336 288 Tpost
IOPIN -336 288 Out
FLAG -1424 -256 Tpre
IOPIN -1424 -256 In
FLAG 128 288 Tpre
IOPIN 128 288 Out
FLAG -944 -576 0
FLAG -16 -16 0
FLAG -16 -96 mod
FLAG 240 -144 0
FLAG 240 -448 Hebbian
IOPIN 240 -448 Out
FLAG 400 -144 0
FLAG 608 -496 Inhibitor
IOPIN 608 -496 Out
FLAG 400 -496 inh_red
SYMBOL Opamps\\UniversalOpamp2 -544 -304 R0
SYMATTR InstName U1
SYMBOL res -496 -432 R90
WINDOW 0 -34 51 VBottom 2
WINDOW 3 -27 -30 VTop 2
SYMATTR InstName R1
SYMATTR Value R=(V(mod)*1000+1)
SYMBOL res -624 -224 R0
SYMATTR InstName R2
SYMATTR Value 10K
SYMBOL res -592 -304 R90
WINDOW 0 8 128 VBottom 2
WINDOW 3 20 127 VTop 2
SYMATTR InstName R3
SYMATTR Value 100K
SYMBOL Opamps\\UniversalOpamp2 -1120 -272 R0
SYMATTR InstName U2
SYMBOL cap -1152 -112 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL res -1168 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10K
SYMBOL res -1168 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10K
SYMBOL res -1056 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10K
SYMBOL res -592 -256 R90
WINDOW 0 40 132 VBottom 2
WINDOW 3 45 130 VTop 2
SYMATTR InstName R7
SYMATTR Value 100K
SYMBOL Opamps\\UniversalOpamp2 -896 -288 R0
SYMATTR InstName U3
SYMBOL diode -1008 -288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D1
SYMBOL diode -1008 -256 R270
WINDOW 0 -36 37 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D2
SYMBOL res -864 -304 R0
SYMATTR InstName R8
SYMATTR Value 1Meg
SYMBOL res -832 -112 R180
WINDOW 0 58 71 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 600K
SYMBOL res -1024 -288 R0
WINDOW 0 32 126 Left 2
WINDOW 3 30 158 Left 2
SYMATTR InstName R10
SYMATTR Value 100K
SYMBOL cap -1008 -288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 0.02µ
SYMBOL res -832 -416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 20K
SYMBOL cap -944 -416 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 600n
SYMBOL res -688 -400 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R12
SYMATTR Value 10K
SYMBOL diode -464 -288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D3
SYMBOL res -592 -352 R90
WINDOW 0 -24 131 VBottom 2
WINDOW 3 -15 125 VTop 2
SYMATTR InstName R13
SYMATTR Value 100K
SYMBOL Opamps\\UniversalOpamp2 -896 160 R0
SYMATTR InstName U4
SYMBOL diode -1008 160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D4
SYMBOL diode -1008 192 R270
WINDOW 0 -33 36 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D5
SYMBOL res -864 144 R0
SYMATTR InstName R14
SYMATTR Value 1Meg
SYMBOL res -832 336 R180
WINDOW 0 45 74 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R15
SYMATTR Value 600K
SYMBOL res -1024 160 R0
WINDOW 0 34 121 Left 2
WINDOW 3 30 155 Left 2
SYMATTR InstName R16
SYMATTR Value 100K
SYMBOL res -832 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 20K
SYMBOL cap -944 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 600n
SYMBOL cap -1008 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 0.02µ
SYMBOL Opamps\\UniversalOpamp2 -544 144 R0
SYMATTR InstName U5
SYMBOL res -496 16 R90
WINDOW 0 -29 56 VBottom 2
WINDOW 3 -27 -30 VTop 2
SYMATTR InstName R18
SYMATTR Value R=(V(mod)*1000+1)
SYMBOL res -624 224 R0
SYMATTR InstName R19
SYMATTR Value 10K
SYMBOL res -592 144 R90
WINDOW 0 16 130 VBottom 2
WINDOW 3 25 129 VTop 2
SYMATTR InstName R20
SYMATTR Value 100K
SYMBOL res -592 192 R90
WINDOW 0 55 133 VBottom 2
WINDOW 3 68 132 VTop 2
SYMATTR InstName R21
SYMATTR Value 100K
SYMBOL res -688 48 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R22
SYMATTR Value 10K
SYMBOL diode -400 160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D6
SYMBOL res -592 96 R90
WINDOW 0 -19 133 VBottom 2
WINDOW 3 -9 132 VTop 2
SYMATTR InstName R23
SYMATTR Value 100K
SYMBOL res -112 -448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 30K
SYMBOL res -240 -320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R25
SYMATTR Value 15K
SYMBOL res -240 -160 R180
WINDOW 0 36 76 Left 2
WINDOW 3 43 40 Left 2
SYMATTR InstName R26
SYMATTR Value 15K
SYMBOL res -1056 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 1Meg
SYMBOL res -1152 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value 1Meg
SYMBOL Opamps\\UniversalOpamp2 -1120 176 R0
SYMATTR InstName U6
SYMBOL cap -1152 336 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C6
SYMATTR Value 1µ
SYMBOL res -1056 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R29
SYMATTR Value 10K
SYMBOL res -1056 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R30
SYMATTR Value 1Meg
SYMBOL res -1152 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R31
SYMATTR Value 1Meg
SYMBOL Opamps\\UniversalOpamp2 -176 -288 R0
SYMATTR InstName U7
SYMBOL res -112 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R32
SYMATTR Value 10K
SYMBOL Opamps\\UniversalOpamp2 -176 160 R0
SYMATTR InstName U8
SYMBOL res -240 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R33
SYMATTR Value 10K
SYMBOL cap -144 -384 R90
WINDOW 0 -4 -60 VBottom 2
WINDOW 3 2 -70 VTop 2
SYMATTR InstName C7
SYMATTR Value 0.5µ
SYMBOL Opamps\\UniversalOpamp2 -880 -720 R0
SYMATTR InstName U9
SYMATTR SpiceModel level.3a
SYMBOL res -816 -864 R90
WINDOW 0 -54 63 VBottom 2
WINDOW 3 -40 6 VTop 2
SYMATTR InstName R34
SYMATTR Value R=(V(mod)*1000+1)
SYMBOL res -960 -672 R0
SYMATTR InstName R35
SYMATTR Value 10K
SYMBOL res -928 -720 R90
WINDOW 0 12 120 VBottom 2
WINDOW 3 23 117 VTop 2
SYMATTR InstName R36
SYMATTR Value 100K
SYMBOL res -1024 -832 R270
WINDOW 0 85 55 VTop 2
WINDOW 3 76 50 VBottom 2
SYMATTR InstName R37
SYMATTR Value 10K
SYMBOL res -928 -768 R90
WINDOW 0 -21 45 VBottom 2
WINDOW 3 -21 41 VTop 2
SYMATTR InstName R38
SYMATTR Value 100K
SYMBOL res -1104 -848 R0
SYMATTR InstName R39
SYMATTR Value 100K
SYMBOL res -1088 -768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R40
SYMATTR Value 50K
SYMBOL diode -816 -704 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D7
SYMBOL res -400 -880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R41
SYMATTR Value 120K
SYMBOL Opamps\\UniversalOpamp2 -464 -736 R0
SYMATTR InstName U10
SYMBOL res -496 -768 R90
WINDOW 0 -53 52 VBottom 2
WINDOW 3 -42 52 VTop 2
SYMATTR InstName R42
SYMATTR Value 100K
SYMBOL res -496 -736 R90
WINDOW 0 76 58 VBottom 2
WINDOW 3 87 57 VTop 2
SYMATTR InstName R43
SYMATTR Value 100K
SYMBOL npn -512 -528 R270
WINDOW 0 56 32 VRight 2
WINDOW 3 56 68 Invisible 2
SYMATTR InstName Q1
SYMBOL res -112 -880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 60 56 VBottom 2
SYMATTR InstName R44
SYMATTR Value 2.5k
SYMBOL res -240 -752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R45
SYMATTR Value 15K
SYMBOL res -240 -560 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R46
SYMATTR Value 15K
SYMBOL Opamps\\UniversalOpamp2 -176 -720 R0
SYMATTR InstName U11
SYMBOL cap -144 -816 R90
WINDOW 0 8 -66 VBottom 2
WINDOW 3 11 -75 VTop 2
SYMATTR InstName C8
SYMATTR Value 0.5µ
SYMBOL res -240 -512 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R47
SYMATTR Value 1K
SYMBOL voltage 240 -752 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 6.5
SYMBOL voltage 368 -640 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 6.5
SYMBOL Misc\\signal -336 272 R0
WINDOW 0 24 16 Invisible 2
WINDOW 3 62 -8 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 3 50m 0 0 20m 118m)
SYMBOL Misc\\signal 128 272 R0
WINDOW 0 24 16 Invisible 2
WINDOW 3 64 -8 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value PULSE(0 3 10m 0 0 20m 120m)
SYMBOL res -928 -672 R90
WINDOW 0 51 117 VBottom 2
WINDOW 3 61 116 VTop 2
SYMATTR InstName R48
SYMATTR Value 100K
SYMBOL voltage -16 -112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V7
SYMATTR Value PWL(0 100 6 100 7 150 13 150 14 200 20 200 21 250 27 250 28 300 34 300 35 350)
SYMBOL memristor 240 -320 R0
SYMATTR InstName U14
SYMBOL res 496 -512 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R52
SYMATTR Value 300k
SYMBOL memristor 400 -320 R0
SYMATTR InstName U12
TEXT -40 376 Left 2 !.tran 0 40 0
