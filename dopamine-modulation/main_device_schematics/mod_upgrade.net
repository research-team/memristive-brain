* Z:\Users\Artur\memristive-brain\dopamine-modulation\main_device_schematics\mod_upgrade.asc
XU1 N023 N020 +5 -5 N017 level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
R1 N017 N020 300K
R2 N023 0 10K
R3 N023 N022 100K
XU2 N025 N019 +5 -5 N010 level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
C1 0 N025 1µ
R4 N025 Tpre 10K
R5 N035 Tpost 10K
R6 N010 N019 10K
R7 N023 N013 100K
XU3 N024 N018 +5 -5 N022 level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
D1 0 N018 D
D2 P001 N024 D
R8 N022 N024 1Meg
R9 0 N024 600K
R10 P001 0 100K
C2 P001 N010 0.02µ
R11 N022 N018 20K
C3 N018 0 600n
R12 0 N020 10K
D3 N017 N021 D
R13 N023 -5 100K
XU4 N034 N029 +5 -5 N032 level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
D4 0 N029 D
D5 P002 N034 D
R14 N032 N034 1Meg
R15 0 N034 600K
R16 P002 0 100K
R17 N032 N029 20K
C4 N029 0 600n
C5 P002 N013 0.02µ
XU5 N033 N031 +5 -5 N027 level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
R18 N027 N031 300K
R19 N033 0 10K
R20 N033 N032 100K
R21 N033 N010 100K
R22 0 N031 10K
D6 N027 P003 D
R23 N033 -5 100K
R24 Inhibitor N016 30K
R25 N016 N021 15K
R26 N026 N016 15K
R27 N010 N025 1Meg
R28 N019 0 1Meg
XU6 N035 N030 +5 -5 N013 level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
C6 0 N035 1µ
R29 N013 N030 10K
R30 N013 N035 1Meg
R31 N030 0 1Meg
XU7 0 N016 +5 -5 Inhibitor level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
R32 N026 N028 10K
XU8 0 N028 +5 -5 N026 level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
R33 N028 P003 10K
C7 Inhibitor N016 0.5µ
XU9 N011 N005 +5 -5 N003 level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
R34 N003 N005 150K
R35 N011 0 10K
R36 N011 N010 100K
R37 0 N005 10K
R38 N011 N004 100K
R39 0 N004 100K
R40 N004 -5 50K
D7 N003 N006 D
R41 N007 N001 120K
XU10 N009 N001 +5 -5 N007 level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
R42 N001 Sombrero 100K
R43 N009 Sombrero 100K
Q1 N009 N014 0 0 NPN
R44 Hebbian N002 35K
R45 N002 N007 15K
R46 0 N002 15K
XU11 0 N002 +5 -5 Hebbian level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
C8 Hebbian N002 0.5µ
R47 N014 Inhibitor 1K
V1 +5 0 6.5
V2 0 -5 6.5
V3 Tpost 0 PULSE(0 3 50m 0 0 20m 118m)
V4 Tpre 0 PULSE(0 3 10m 0 0 20m 120m)
R48 N011 N013 100K
D8 N008 Sombrero D
XU13 Inhibitor N015 +5 -5 Inh_mod level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
R54 N015 0 500K
R55 Inh_mod N015 R=(V(imod)*5000+1)
XU12 N006 N012 +5 -5 N008 level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
R49 N012 0 100K
R50 N008 N012 R=(V(smod)*1000+1)
V5 imod 0 PWL(0 0 6 0 7 20 13 20 14 40 20 40 21 60)
V7 smod 0 PWL(0 0 6 0 7 33 13 33 14 66 20 66 21 100)
.model D D
.lib C:\users\Artur\My Documents\LTspiceXVII\lib\cmp\standard.dio
.model NPN NPN
.model PNP PNP
.lib C:\users\Artur\My Documents\LTspiceXVII\lib\cmp\standard.bjt
.tran 0 27 0
.lib UniversalOpamps2.sub
.backanno
.end
