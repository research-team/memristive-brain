Version 4
SHEET 1 6588 1016
WIRE 5872 -1696 5840 -1696
WIRE 6000 -1696 5952 -1696
WIRE 5840 -1584 5840 -1696
WIRE 5840 -1584 5808 -1584
WIRE 5888 -1584 5840 -1584
WIRE 6000 -1568 6000 -1696
WIRE 6000 -1568 5952 -1568
WIRE 6032 -1568 6000 -1568
WIRE 6272 -1568 6112 -1568
WIRE 6416 -1504 6400 -1504
WIRE 6544 -1504 6496 -1504
WIRE 5856 -1392 5824 -1392
WIRE 5984 -1392 5936 -1392
WIRE 6272 -1392 6272 -1568
WIRE 6400 -1392 6400 -1504
WIRE 6400 -1392 6272 -1392
WIRE 6432 -1392 6400 -1392
WIRE 6544 -1376 6544 -1504
WIRE 6544 -1376 6496 -1376
WIRE 4112 -1312 3600 -1312
WIRE 5824 -1280 5824 -1392
WIRE 5824 -1280 5808 -1280
WIRE 5856 -1280 5824 -1280
WIRE 5984 -1264 5984 -1392
WIRE 5984 -1264 5920 -1264
WIRE 6032 -1264 5984 -1264
WIRE 6272 -1264 6272 -1392
WIRE 6272 -1264 6112 -1264
WIRE 3696 -1232 3680 -1232
WIRE 3984 -1232 3968 -1232
WIRE 3440 -1200 3424 -1200
WIRE 3968 -1168 3968 -1232
WIRE 3984 -1168 3968 -1168
WIRE 4064 -1168 4064 -1232
WIRE 4064 -1168 4048 -1168
WIRE 3184 -1120 3168 -1120
WIRE 3248 -1120 3184 -1120
WIRE 3600 -1120 3600 -1312
WIRE 3680 -1120 3680 -1232
WIRE 3696 -1120 3680 -1120
WIRE 3344 -1104 3344 -1200
WIRE 3360 -1104 3344 -1104
WIRE 3776 -1104 3776 -1232
WIRE 3776 -1104 3760 -1104
WIRE 3856 -1104 3776 -1104
WIRE 3968 -1104 3968 -1168
WIRE 3968 -1104 3936 -1104
WIRE 3984 -1104 3968 -1104
WIRE 3440 -1088 3440 -1200
WIRE 3440 -1088 3424 -1088
WIRE 3456 -1088 3440 -1088
WIRE 3600 -1088 3600 -1120
WIRE 3600 -1088 3520 -1088
WIRE 3696 -1088 3680 -1088
WIRE 4064 -1088 4064 -1168
WIRE 4064 -1088 4048 -1088
WIRE 4112 -1088 4064 -1088
WIRE 3248 -1072 2912 -1072
WIRE 3328 -1072 3328 -1120
WIRE 3360 -1072 3328 -1072
WIRE 3984 -1072 3968 -1072
WIRE 5600 -1072 5568 -1072
WIRE 5728 -1072 5680 -1072
WIRE 5872 -1056 5840 -1056
WIRE 6000 -1056 5952 -1056
WIRE 3248 -1024 2944 -1024
WIRE 3328 -1024 3328 -1072
WIRE 3936 -1024 3936 -1104
WIRE 3680 -960 3680 -1088
WIRE 3776 -960 3776 -976
WIRE 5568 -960 5568 -1072
WIRE 5568 -960 5536 -960
WIRE 5616 -960 5568 -960
WIRE 5728 -944 5728 -1072
WIRE 5728 -944 5680 -944
WIRE 5840 -944 5840 -1056
WIRE 5840 -944 5808 -944
WIRE 5888 -944 5840 -944
WIRE 6000 -928 6000 -1056
WIRE 6000 -928 5952 -928
WIRE 6032 -928 6000 -928
WIRE 6272 -928 6112 -928
WIRE 3968 -896 3728 -896
WIRE 4064 -896 4048 -896
WIRE 6416 -864 6400 -864
WIRE 6544 -864 6496 -864
WIRE 2912 -816 2912 -1072
WIRE 3200 -816 2912 -816
WIRE 3984 -800 3968 -800
WIRE 4064 -800 4064 -896
WIRE 3776 -784 3760 -784
WIRE 3344 -768 3328 -768
WIRE 5856 -752 5824 -752
WIRE 5984 -752 5936 -752
WIRE 6272 -752 6272 -928
WIRE 6400 -752 6400 -864
WIRE 6400 -752 6272 -752
WIRE 6432 -752 6400 -752
WIRE 3120 -736 3104 -736
WIRE 3200 -736 3200 -816
WIRE 3968 -736 3968 -800
WIRE 3984 -736 3968 -736
WIRE 4064 -736 4064 -800
WIRE 4064 -736 4048 -736
WIRE 6544 -736 6544 -864
WIRE 6544 -736 6496 -736
WIRE 3584 -704 3504 -704
WIRE 3680 -688 3680 -784
WIRE 3696 -688 3680 -688
WIRE 3328 -672 3328 -768
WIRE 3344 -672 3328 -672
WIRE 3776 -672 3776 -784
WIRE 3776 -672 3760 -672
WIRE 3792 -672 3776 -672
WIRE 3968 -672 3968 -736
WIRE 3968 -672 3936 -672
WIRE 3984 -672 3968 -672
WIRE 3104 -656 3104 -736
WIRE 3120 -656 3104 -656
WIRE 3424 -656 3424 -768
WIRE 3424 -656 3408 -656
WIRE 3584 -656 3424 -656
WIRE 3664 -656 3664 -704
WIRE 3696 -656 3664 -656
WIRE 4064 -656 4064 -736
WIRE 4064 -656 4048 -656
WIRE 4112 -656 4064 -656
WIRE 3200 -640 3200 -736
WIRE 3200 -640 3184 -640
WIRE 3344 -640 3328 -640
WIRE 3984 -640 3968 -640
WIRE 5824 -640 5824 -752
WIRE 5824 -640 5808 -640
WIRE 5856 -640 5824 -640
WIRE 3008 -624 1280 -624
WIRE 3104 -624 3088 -624
WIRE 3120 -624 3104 -624
WIRE 3936 -624 3936 -672
WIRE 5984 -624 5984 -752
WIRE 5984 -624 5920 -624
WIRE 6032 -624 5984 -624
WIRE 6272 -624 6272 -752
WIRE 6272 -624 6112 -624
WIRE 3664 -608 3664 -656
WIRE 3328 -576 3328 -640
WIRE 3424 -576 3328 -576
WIRE 3664 -576 3664 -608
WIRE 3104 -544 3104 -624
WIRE 3120 -544 3104 -544
WIRE 3200 -544 3200 -640
WIRE 3424 -480 3424 -496
WIRE 3664 -480 3664 -496
WIRE 2944 -416 2944 -1024
WIRE 3200 -416 2944 -416
WIRE 3584 -416 3584 -608
WIRE 3584 -416 3200 -416
WIRE 3936 -416 3936 -544
WIRE 4064 -416 3936 -416
WIRE 3776 -336 3760 -336
WIRE 3984 -336 3968 -336
WIRE 4064 -336 4064 -416
WIRE 3344 -320 3328 -320
WIRE 1568 -288 1568 -352
WIRE 1584 -288 1568 -288
WIRE 2528 -288 2512 -288
WIRE 3120 -288 3104 -288
WIRE 3200 -288 3200 -416
WIRE 2128 -272 2112 -272
WIRE 2816 -272 2736 -272
WIRE 3584 -256 3488 -256
WIRE 1136 -240 960 -240
WIRE 3680 -240 3680 -336
WIRE 3696 -240 3680 -240
WIRE 3328 -224 3328 -320
WIRE 3344 -224 3328 -224
WIRE 3776 -224 3776 -336
WIRE 3776 -224 3760 -224
WIRE 3792 -224 3776 -224
WIRE 3968 -224 3968 -336
WIRE 3968 -224 3936 -224
WIRE 3984 -224 3968 -224
WIRE 2736 -208 2736 -272
WIRE 2752 -208 2736 -208
WIRE 3104 -208 3104 -288
WIRE 3120 -208 3104 -208
WIRE 3424 -208 3424 -320
WIRE 3424 -208 3408 -208
WIRE 3584 -208 3424 -208
WIRE 3664 -208 3664 -256
WIRE 3696 -208 3664 -208
WIRE 4064 -208 4064 -336
WIRE 4064 -208 4048 -208
WIRE 2512 -192 2512 -288
WIRE 2528 -192 2512 -192
WIRE 2816 -192 2816 -272
WIRE 3200 -192 3200 -288
WIRE 3200 -192 3184 -192
WIRE 3344 -192 3328 -192
WIRE 3984 -192 3968 -192
WIRE 2112 -176 2112 -272
WIRE 2128 -176 2112 -176
WIRE 2608 -176 2608 -288
WIRE 2608 -176 2592 -176
WIRE 2752 -176 2608 -176
WIRE 2816 -176 2816 -192
WIRE 2944 -176 2816 -176
WIRE 3008 -176 2944 -176
WIRE 3104 -176 3088 -176
WIRE 3120 -176 3104 -176
WIRE 1808 -160 1744 -160
WIRE 2208 -160 2208 -272
WIRE 2208 -160 2192 -160
WIRE 2336 -160 2208 -160
WIRE 2448 -160 2400 -160
WIRE 2528 -160 2512 -160
WIRE 3664 -160 3664 -208
WIRE 1568 -144 1568 -288
WIRE 1584 -144 1568 -144
WIRE 1920 -144 1872 -144
WIRE 2048 -144 1984 -144
WIRE 2128 -144 2112 -144
WIRE 960 -128 960 -240
WIRE 1008 -128 960 -128
WIRE 1664 -128 1664 -288
WIRE 1664 -128 1648 -128
WIRE 1808 -128 1664 -128
WIRE 3328 -128 3328 -192
WIRE 3424 -128 3328 -128
WIRE 3664 -128 3664 -160
WIRE 1136 -112 1136 -240
WIRE 1136 -112 1072 -112
WIRE 1216 -112 1136 -112
WIRE 1280 -112 1280 -624
WIRE 1280 -112 1216 -112
WIRE 1456 -112 1280 -112
WIRE 1568 -112 1536 -112
WIRE 1584 -112 1568 -112
WIRE 768 -96 -304 -96
WIRE 912 -96 864 -96
WIRE 1008 -96 912 -96
WIRE 2512 -96 2512 -160
WIRE 2608 -96 2512 -96
WIRE 3104 -96 3104 -176
WIRE 3120 -96 3104 -96
WIRE 3200 -96 3200 -192
WIRE 2112 -80 2112 -144
WIRE 2208 -80 2112 -80
WIRE 1744 -64 1744 -160
WIRE 3424 -32 3424 -48
WIRE 3664 -32 3664 -48
WIRE 1568 0 1568 -112
WIRE 1584 0 1568 0
WIRE 1664 0 1664 -128
WIRE 2608 0 2608 -16
WIRE 2208 16 2208 0
WIRE 2912 48 2912 -816
WIRE 3584 48 3584 -160
WIRE 3584 48 2912 48
WIRE 1568 80 1568 0
WIRE -304 144 -304 -96
WIRE 96 144 -304 144
WIRE 176 160 160 160
WIRE 496 160 176 160
WIRE 64 176 32 176
WIRE 96 176 64 176
WIRE -736 240 -912 240
WIRE 64 240 64 176
WIRE 176 240 64 240
WIRE -496 288 -528 288
WIRE -416 288 -496 288
WIRE -912 352 -912 240
WIRE -864 352 -912 352
WIRE -736 368 -736 240
WIRE -736 368 -800 368
WIRE -704 368 -736 368
WIRE -496 368 -496 288
WIRE -480 368 -496 368
WIRE -864 384 -896 384
WIRE -336 384 -336 288
WIRE -336 384 -416 384
WIRE -304 384 -304 144
WIRE -304 384 -336 384
WIRE -624 400 -624 368
WIRE -528 400 -624 400
WIRE -480 400 -528 400
WIRE 912 432 912 -96
WIRE -528 448 -528 400
WIRE 496 496 496 160
WIRE 688 496 496 496
WIRE -736 512 -912 512
WIRE -704 512 -736 512
WIRE -624 512 -624 400
WIRE 688 512 592 512
WIRE 864 512 832 512
WIRE 352 528 336 528
WIRE 480 528 432 528
WIRE 832 544 832 512
WIRE 832 544 752 544
WIRE -304 592 -304 384
WIRE 96 592 -304 592
WIRE 176 608 160 608
WIRE 240 608 176 608
WIRE 336 608 336 528
WIRE 336 608 320 608
WIRE 352 608 336 608
WIRE -912 624 -912 512
WIRE -864 624 -912 624
WIRE 64 624 32 624
WIRE 96 624 64 624
WIRE 480 624 480 528
WIRE 480 624 416 624
WIRE 592 624 592 512
WIRE 592 624 480 624
WIRE -736 640 -736 512
WIRE -736 640 -800 640
WIRE -864 656 -912 656
WIRE 64 688 64 624
WIRE 176 688 64 688
WIRE -304 880 -304 864
FLAG 624 896 +5
FLAG 720 896 -5
FLAG 128 640 -5
FLAG 128 576 +5
FLAG 624 976 0
FLAG 720 976 0
FLAG 128 192 -5
FLAG 128 128 +5
FLAG -304 960 0
FLAG -304 864 inp
FLAG 832 512 norm
FLAG 32 336 0
FLAG 32 784 0
FLAG 352 640 0
FLAG 384 656 -5
FLAG 384 592 +5
FLAG 912 528 0
FLAG 2160 -192 +5
FLAG 2160 -128 -5
FLAG 2048 -176 0
FLAG 2048 -272 0
FLAG 2048 -64 0
FLAG 2208 16 0
FLAG 1616 -160 +5
FLAG 1616 -96 -5
FLAG 1568 144 0
FLAG 1568 -432 0
FLAG 1840 -176 +5
FLAG 1840 -112 -5
FLAG 2560 -208 +5
FLAG 2560 -144 -5
FLAG 2448 -192 0
FLAG 2448 -288 0
FLAG 2448 -80 0
FLAG 2608 0 0
FLAG 3728 -704 +5
FLAG 3728 -640 -5
FLAG 3152 -672 +5
FLAG 3152 -608 -5
FLAG 3376 -688 +5
FLAG 3376 -624 -5
FLAG 3264 -672 0
FLAG 3264 -768 0
FLAG 3264 -560 0
FLAG 3600 -784 0
FLAG 3504 -704 -5
FLAG 3376 -240 +5
FLAG 3376 -176 -5
FLAG 3264 -224 0
FLAG 3264 -320 0
FLAG 3264 -112 0
FLAG 3424 -32 0
FLAG 3424 -480 0
FLAG 3728 -256 +5
FLAG 3728 -192 -5
FLAG 3600 -336 0
FLAG 3488 -256 -5
FLAG 3104 -480 0
FLAG 3024 -736 0
FLAG 3152 -224 +5
FLAG 3152 -160 -5
FLAG 3104 -32 0
FLAG 3024 -288 0
FLAG 4016 -688 +5
FLAG 4016 -624 -5
FLAG 4016 -240 +5
FLAG 4016 -176 -5
FLAG 3968 -192 0
FLAG 3968 -640 0
FLAG 3664 -480 0
FLAG 3664 -32 0
FLAG 4112 -656 Inhibitor
IOPIN 4112 -656 Out
FLAG 3392 -1120 +5
FLAG 3392 -1056 -5
FLAG 3264 -1200 0
FLAG 3184 -1200 0
FLAG 3728 -1136 +5
FLAG 3728 -1072 -5
FLAG 3088 -1120 -5
FLAG 4016 -1120 +5
FLAG 4016 -1056 -5
FLAG 3968 -1072 0
FLAG 3936 -944 0
FLAG 3776 -976 0
FLAG 4112 -1088 Hebbian
IOPIN 4112 -1088 Out
FLAG 4112 -1312 Sombrero
IOPIN 4112 -1312 Out
FLAG 3328 -944 0
FLAG 5888 -1296 +5
FLAG 5888 -1232 -5
FLAG 5920 -1600 +5
FLAG 5920 -1536 -5
FLAG 5888 -1552 0
FLAG 5856 -1248 0
FLAG 6464 -1408 +5
FLAG 6464 -1344 -5
FLAG 6432 -1360 0
FLAG 5728 -1584 Sombrero
IOPIN 5728 -1584 Out
FLAG 5728 -1280 Hebbian
IOPIN 5728 -1280 Out
FLAG 5536 -1424 0
FLAG 5536 -1504 mod
FLAG 6544 -1504 out
FLAG 5888 -656 +5
FLAG 5888 -592 -5
FLAG 5920 -960 +5
FLAG 5920 -896 -5
FLAG 5888 -912 0
FLAG 5856 -608 0
FLAG 6464 -768 +5
FLAG 6464 -704 -5
FLAG 6432 -720 0
FLAG 5456 -960 Sombrero
IOPIN 5456 -960 Out
FLAG 5728 -640 Hebbian
IOPIN 5728 -640 Out
FLAG 5440 -736 0
FLAG 5440 -816 mod2
FLAG 6544 -864 out2
FLAG 5648 -976 +5
FLAG 5648 -912 -5
FLAG 5616 -928 0
FLAG -832 400 -5
FLAG -832 336 +5
FLAG -832 672 -5
FLAG -832 608 +5
FLAG -912 656 inp
FLAG -448 416 -5
FLAG -448 352 +5
FLAG -528 528 0
FLAG -608 288 0
FLAG 1040 -80 -5
FLAG 1040 -144 +5
FLAG 1744 16 0
FLAG -896 384 Hebbian
IOPIN -896 384 Out
FLAG 1216 -112 af_out
FLAG 2944 -176 leak_out
FLAG 2784 -224 +5
FLAG 2784 -160 0
SYMBOL Opamps\\UniversalOpamp2 128 608 R0
SYMATTR InstName U1
SYMBOL voltage 624 880 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage 720 880 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value -5
SYMBOL Opamps\\UniversalOpamp2 128 160 R0
SYMATTR InstName U2
SYMBOL voltage -304 864 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 44 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 0.75 0 1n 1n 1m 4m)
SYMBOL Digital\\and 720 464 R0
WINDOW 3 0 0 Invisible 2
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A1
SYMBOL res 160 144 R0
SYMATTR InstName R1
SYMATTR Value 500K
SYMBOL res 48 272 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 100K
SYMBOL voltage 32 240 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 1
SYMBOL res 48 720 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 100K
SYMBOL voltage 32 688 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value -1
SYMBOL res 160 592 R0
SYMATTR InstName R4
SYMATTR Value 500K
SYMBOL Opamps\\UniversalOpamp2 384 624 R0
SYMATTR InstName U3
SYMBOL res 336 592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100K
SYMBOL res 448 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100K
SYMBOL nmos 864 432 R0
SYMATTR InstName M1
SYMATTR Value Si7540DP_N
SYMBOL memristor_with_state 816 -96 R270
WINDOW 3 68 0 VCenter 0
SYMATTR Value Voff=-1 Von=1 TAU=0.1 Ron=100k Roff=500k
SYMATTR SpiceModel MEM_KNOWM
SYMATTR InstName U4
SYMBOL res 1552 -128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10K
SYMBOL Opamps\\UniversalOpamp2 2160 -160 R0
SYMATTR InstName U5
SYMBOL diode 2048 -160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D1
SYMBOL diode 2048 -128 R270
WINDOW 0 -33 36 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D2
SYMBOL res 2192 -176 R0
SYMATTR InstName R8
SYMATTR Value 0.1Meg
SYMBOL res 2224 16 R180
WINDOW 0 45 74 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 500K
SYMBOL res 2032 -160 R0
WINDOW 0 34 121 Left 2
WINDOW 3 30 155 Left 2
SYMATTR InstName R10
SYMATTR Value 100K
SYMBOL res 2224 -288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 150K
SYMBOL cap 2112 -288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 40n
SYMBOL cap 1984 -160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 0.001µ
SYMBOL Opamps\\UniversalOpamp2 1616 -128 R0
SYMATTR InstName U6
SYMBOL cap 1584 144 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL res 1680 -304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 10K
SYMBOL res 1680 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 1Meg
SYMBOL res 1584 -336 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R14
SYMATTR Value 1Meg
SYMBOL Opamps\\UniversalOpamp2 1840 -144 R0
SYMATTR InstName U7
SYMBOL Opamps\\UniversalOpamp2 2560 -176 R0
SYMATTR InstName U8
SYMBOL diode 2448 -176 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D3
SYMBOL diode 2448 -144 R270
WINDOW 0 -33 36 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D4
SYMBOL res 2592 -192 R0
SYMATTR InstName R17
SYMATTR Value 0.1Meg
SYMBOL res 2624 0 R180
WINDOW 0 45 74 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R18
SYMATTR Value 500K
SYMBOL res 2432 -176 R0
WINDOW 0 34 121 Left 2
WINDOW 3 30 155 Left 2
SYMATTR InstName R19
SYMATTR Value 100K
SYMBOL res 2624 -304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 150K
SYMBOL cap 2512 -304 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 20n
SYMBOL cap 2400 -176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 0.001µ
SYMBOL Opamps\\UniversalOpamp2 3728 -672 R0
SYMATTR InstName U9
SYMBOL res 3776 -800 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 300K
SYMBOL res 3648 -592 R0
SYMATTR InstName R24
SYMATTR Value 10K
SYMBOL res 3680 -672 R90
WINDOW 0 8 128 VBottom 2
WINDOW 3 20 127 VTop 2
SYMATTR InstName R25
SYMATTR Value 100K
SYMBOL Opamps\\UniversalOpamp2 3152 -640 R0
SYMATTR InstName U10
SYMBOL cap 3120 -480 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C6
SYMATTR Value 1µ
SYMBOL res 3104 -640 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 10K
SYMBOL res 3104 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 10K
SYMBOL res 3216 -752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value 10K
SYMBOL res 3680 -624 R90
WINDOW 0 40 132 VBottom 2
WINDOW 3 45 130 VTop 2
SYMATTR InstName R29
SYMATTR Value 100K
SYMBOL Opamps\\UniversalOpamp2 3376 -656 R0
SYMATTR InstName U11
SYMBOL diode 3264 -656 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D6
SYMBOL diode 3264 -624 R270
WINDOW 0 -36 37 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D7
SYMBOL res 3408 -672 R0
SYMATTR InstName R30
SYMATTR Value 1Meg
SYMBOL res 3440 -480 R180
WINDOW 0 58 71 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R31
SYMATTR Value 600K
SYMBOL res 3248 -656 R0
WINDOW 0 32 126 Left 2
WINDOW 3 30 158 Left 2
SYMATTR InstName R32
SYMATTR Value 100K
SYMBOL cap 3264 -656 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 0.02µ
SYMBOL res 3440 -784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R33
SYMATTR Value 20K
SYMBOL cap 3328 -784 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 600n
SYMBOL res 3584 -768 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R34
SYMATTR Value 10K
SYMBOL diode 3792 -656 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D8
SYMBOL res 3680 -720 R90
WINDOW 0 -24 131 VBottom 2
WINDOW 3 -15 125 VTop 2
SYMATTR InstName R35
SYMATTR Value 100K
SYMBOL Opamps\\UniversalOpamp2 3376 -208 R0
SYMATTR InstName U12
SYMBOL diode 3264 -208 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D9
SYMBOL diode 3264 -176 R270
WINDOW 0 -33 36 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D10
SYMBOL res 3408 -224 R0
SYMATTR InstName R36
SYMATTR Value 1Meg
SYMBOL res 3440 -32 R180
WINDOW 0 45 74 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R37
SYMATTR Value 600K
SYMBOL res 3248 -208 R0
WINDOW 0 34 121 Left 2
WINDOW 3 30 155 Left 2
SYMATTR InstName R38
SYMATTR Value 100K
SYMBOL res 3440 -336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R39
SYMATTR Value 20K
SYMBOL cap 3328 -336 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 600n
SYMBOL cap 3264 -208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C10
SYMATTR Value 0.02µ
SYMBOL Opamps\\UniversalOpamp2 3728 -224 R0
SYMATTR InstName U13
SYMBOL res 3776 -352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R40
SYMATTR Value 300K
SYMBOL res 3648 -144 R0
SYMATTR InstName R41
SYMATTR Value 10K
SYMBOL res 3680 -224 R90
WINDOW 0 16 130 VBottom 2
WINDOW 3 25 129 VTop 2
SYMATTR InstName R42
SYMATTR Value 100K
SYMBOL res 3680 -176 R90
WINDOW 0 55 133 VBottom 2
WINDOW 3 68 132 VTop 2
SYMATTR InstName R43
SYMATTR Value 100K
SYMBOL res 3584 -320 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R44
SYMATTR Value 10K
SYMBOL diode 3792 -208 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D11
SYMBOL res 3680 -272 R90
WINDOW 0 -19 133 VBottom 2
WINDOW 3 -9 132 VTop 2
SYMATTR InstName R45
SYMATTR Value 100K
SYMBOL res 4080 -816 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R46
SYMATTR Value 30K
SYMBOL res 3952 -688 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R47
SYMATTR Value 15K
SYMBOL res 3952 -528 R180
WINDOW 0 36 76 Left 2
WINDOW 3 43 40 Left 2
SYMATTR InstName R48
SYMATTR Value 15K
SYMBOL res 3216 -560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R49
SYMATTR Value 1Meg
SYMBOL res 3120 -752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R50
SYMATTR Value 1Meg
SYMBOL Opamps\\UniversalOpamp2 3152 -192 R0
SYMATTR InstName U14
SYMBOL cap 3120 -32 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C11
SYMATTR Value 1µ
SYMBOL res 3216 -304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R51
SYMATTR Value 10K
SYMBOL res 3216 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R52
SYMATTR Value 1Meg
SYMBOL res 3120 -304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R53
SYMATTR Value 1Meg
SYMBOL Opamps\\UniversalOpamp2 4016 -656 R0
SYMATTR InstName U15
SYMBOL res 4080 -352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R54
SYMATTR Value 10K
SYMBOL Opamps\\UniversalOpamp2 4016 -208 R0
SYMATTR InstName U16
SYMBOL res 3952 -240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R55
SYMATTR Value 10K
SYMBOL cap 4048 -752 R90
WINDOW 0 -4 -60 VBottom 2
WINDOW 3 2 -70 VTop 2
SYMATTR InstName C12
SYMATTR Value 0.5µ
SYMBOL Opamps\\UniversalOpamp2 3392 -1088 R0
SYMATTR InstName U17
SYMBOL res 3440 -1216 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R56
SYMATTR Value 150K
SYMBOL res 3312 -1040 R0
SYMATTR InstName R57
SYMATTR Value 10K
SYMBOL res 3344 -1088 R90
WINDOW 0 12 120 VBottom 2
WINDOW 3 23 117 VTop 2
SYMATTR InstName R58
SYMATTR Value 100K
SYMBOL res 3248 -1184 R270
WINDOW 0 85 55 VTop 2
WINDOW 3 76 50 VBottom 2
SYMATTR InstName R59
SYMATTR Value 10K
SYMBOL res 3344 -1136 R90
WINDOW 0 -21 45 VBottom 2
WINDOW 3 -21 41 VTop 2
SYMATTR InstName R60
SYMATTR Value 100K
SYMBOL res 3168 -1216 R0
SYMATTR InstName R61
SYMATTR Value 100K
SYMBOL res 3184 -1136 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R62
SYMATTR Value 50K
SYMBOL diode 3456 -1072 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D12
SYMBOL res 3792 -1248 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R63
SYMATTR Value 120K
SYMBOL Opamps\\UniversalOpamp2 3728 -1104 R0
SYMATTR InstName U18
SYMBOL res 3696 -1136 R90
WINDOW 0 -53 52 VBottom 2
WINDOW 3 -42 52 VTop 2
SYMATTR InstName R64
SYMATTR Value 100K
SYMBOL res 3696 -1104 R90
WINDOW 0 76 58 VBottom 2
WINDOW 3 87 57 VTop 2
SYMATTR InstName R65
SYMATTR Value 100K
SYMBOL npn 3680 -896 R270
WINDOW 0 56 32 VRight 2
WINDOW 3 56 68 Invisible 2
SYMATTR InstName Q1
SYMBOL res 4080 -1248 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 60 56 VBottom 2
SYMATTR InstName R66
SYMATTR Value 35K
SYMBOL res 3952 -1120 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R67
SYMATTR Value 15K
SYMBOL res 3952 -928 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R68
SYMATTR Value 15K
SYMBOL Opamps\\UniversalOpamp2 4016 -1088 R0
SYMATTR InstName U19
SYMBOL cap 4048 -1184 R90
WINDOW 0 8 -66 VBottom 2
WINDOW 3 11 -75 VTop 2
SYMATTR InstName C13
SYMATTR Value 0.5µ
SYMBOL res 3952 -880 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R69
SYMATTR Value 1K
SYMBOL res 3344 -1040 R90
WINDOW 0 51 117 VBottom 2
WINDOW 3 61 116 VTop 2
SYMATTR InstName R70
SYMATTR Value 100K
SYMBOL Opamps\\UniversalOpamp2 5920 -1568 R0
SYMATTR InstName U20
SYMBOL Opamps\\UniversalOpamp2 5888 -1264 R0
SYMATTR InstName U21
SYMBOL res 5968 -1712 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R71
SYMATTR Value R=((1-V(mod))*100K+1m)
SYMBOL res 5824 -1600 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R72
SYMATTR Value 100K
SYMBOL res 5824 -1296 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R73
SYMATTR Value 100K
SYMBOL res 5952 -1408 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R74
SYMATTR Value R=(V(mod)*100K+1m)
SYMBOL Opamps\\UniversalOpamp2 6464 -1376 R0
SYMATTR InstName U22
SYMBOL res 6512 -1520 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R75
SYMATTR Value 100K
SYMBOL res 6128 -1584 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R76
SYMATTR Value 200K
SYMBOL res 6128 -1280 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R77
SYMATTR Value 100K
SYMBOL voltage 5536 -1520 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V10
SYMATTR Value 0
SYMBOL Opamps\\UniversalOpamp2 5920 -928 R0
SYMATTR InstName U23
SYMBOL Opamps\\UniversalOpamp2 5888 -624 R0
SYMATTR InstName U24
SYMBOL res 5968 -1072 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R78
SYMATTR Value R=((1-V(mod2))*100K+1m)
SYMBOL res 5824 -960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R79
SYMATTR Value 100K
SYMBOL res 5824 -656 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R80
SYMATTR Value 100K
SYMBOL res 5952 -768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R81
SYMATTR Value R=(V(mod2)*100K+1m)
SYMBOL Opamps\\UniversalOpamp2 6464 -736 R0
SYMATTR InstName U25
SYMBOL res 6512 -880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R82
SYMATTR Value 100K
SYMBOL res 6128 -944 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R83
SYMATTR Value 200K
SYMBOL res 6128 -640 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R84
SYMATTR Value 100K
SYMBOL voltage 5440 -832 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V11
SYMATTR Value PWL file=test1.txt
SYMBOL Opamps\\UniversalOpamp2 5648 -944 R0
SYMATTR InstName U26
SYMBOL res 5696 -1088 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R85
SYMATTR Value 100K
SYMBOL res 5552 -976 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R86
SYMATTR Value 100K
SYMBOL Opamps\\UniversalOpamp2 -832 368 R0
SYMATTR InstName U29
SYMBOL Opamps\\UniversalOpamp2 -832 640 R0
SYMATTR InstName U27
SYMBOL Opamps\\UniversalOpamp2 -448 384 R0
SYMATTR InstName U28
SYMBOL res -608 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R87
SYMATTR Value 100K
SYMBOL res -608 496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R88
SYMATTR Value 100K
SYMBOL res -512 544 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R89
SYMATTR Value 100K
SYMBOL res -512 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R90
SYMATTR Value 100K
SYMBOL res -320 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R91
SYMATTR Value 200K
SYMBOL Opamps\\UniversalOpamp2 1040 -112 R0
SYMATTR InstName U30
SYMBOL voltage 1744 -80 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value 0.2
SYMBOL Opamps\\UniversalOpamp2 2784 -192 R0
SYMATTR InstName U31
TEXT -336 1000 Left 2 !.tran 15
