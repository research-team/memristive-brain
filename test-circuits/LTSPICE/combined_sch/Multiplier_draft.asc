Version 4
SHEET 1 996 680
WIRE -256 -16 -272 -16
WIRE -80 -16 -192 -16
WIRE 144 16 48 16
WIRE 288 16 224 16
WIRE 448 32 352 32
WIRE 592 32 528 32
WIRE 816 32 800 32
WIRE 960 32 896 32
WIRE -448 80 -528 80
WIRE -368 80 -448 80
WIRE -272 80 -272 -16
WIRE -272 80 -288 80
WIRE -240 80 -272 80
WIRE -80 96 -80 -16
WIRE -80 96 -176 96
WIRE 48 96 48 16
WIRE 48 96 0 96
WIRE -528 112 -528 80
WIRE -240 112 -256 112
WIRE 48 128 48 96
WIRE 160 128 48 128
WIRE 288 144 288 16
WIRE 288 144 224 144
WIRE 352 144 352 32
WIRE 464 144 352 144
WIRE 592 144 592 32
WIRE 672 144 592 144
WIRE 800 144 800 32
WIRE 800 144 752 144
WIRE 832 144 800 144
WIRE 160 160 144 160
WIRE 592 160 592 144
WIRE 592 160 528 160
WIRE 960 160 960 32
WIRE 960 160 896 160
WIRE 144 240 144 160
WIRE -256 304 -272 304
WIRE -80 304 -192 304
WIRE 48 304 48 128
WIRE 48 304 0 304
WIRE -464 400 -528 400
WIRE -368 400 -464 400
WIRE -272 400 -272 304
WIRE -272 400 -288 400
WIRE -240 400 -272 400
WIRE -80 416 -80 304
WIRE -80 416 -176 416
WIRE -528 432 -528 400
WIRE -240 432 -256 432
FLAG -208 64 +5
FLAG -208 128 -5
FLAG -1360 160 0
FLAG -1232 160 0
FLAG -1232 80 -5
FLAG -1360 80 +5
FLAG -256 112 0
FLAG -528 192 0
FLAG -208 384 +5
FLAG -208 448 -5
FLAG -256 432 0
FLAG -528 512 0
FLAG 192 112 +5
FLAG 192 176 -5
FLAG 144 240 0
FLAG 496 128 +5
FLAG 496 192 -5
FLAG 464 176 0
FLAG -448 80 pulse
FLAG -80 -16 log_pulse
FLAG -464 400 level
FLAG -80 416 log_level
FLAG 592 32 inv_out
FLAG 288 16 sum
FLAG 864 128 +5
FLAG 864 192 -5
FLAG 832 176 0
FLAG 960 32 out
SYMBOL Opamps\\UniversalOpamp2 -208 96 R0
SYMATTR InstName U1
SYMBOL voltage -1360 64 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 10
SYMBOL voltage -1232 176 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 10
SYMBOL res -272 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1Meg
SYMBOL voltage -528 96 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 -323 137 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(0 3 0 1n 1n 3ms 20ms)
SYMBOL Opamps\\UniversalOpamp2 -208 416 R0
SYMATTR InstName U2
SYMBOL res -272 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1Meg
SYMBOL voltage -528 416 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 -323 137 Left 2
SYMATTR InstName V4
SYMATTR Value PWL file=gen4.txt
SYMBOL Opamps\\UniversalOpamp2 192 144 R0
SYMATTR InstName U3
SYMBOL res 16 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 100K
SYMBOL res 16 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100K
SYMBOL res 240 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100K
SYMBOL res 544 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1000
SYMBOL Opamps\\UniversalOpamp2 496 160 R0
SYMATTR InstName U4
SYMBOL diode -256 320 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode -256 0 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 288 160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL res 912 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100K
SYMBOL Opamps\\UniversalOpamp2 864 160 R0
SYMATTR InstName U5
SYMBOL res 768 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100K
TEXT -852 296 Left 2 !.tran 1
