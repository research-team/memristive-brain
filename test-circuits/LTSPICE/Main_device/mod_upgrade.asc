Version 4
SHEET 1 1556 680
WIRE -384 -1472 -448 -1472
WIRE -272 -1472 -304 -1472
WIRE -544 -1408 -608 -1408
WIRE -448 -1408 -448 -1472
WIRE -448 -1408 -464 -1408
WIRE -448 -1360 -448 -1408
WIRE -384 -1360 -448 -1360
WIRE -272 -1344 -272 -1472
WIRE -272 -1344 -320 -1344
WIRE -544 -1328 -592 -1328
WIRE -432 -1328 -464 -1328
WIRE -384 -1328 -432 -1328
WIRE 768 -944 256 -944
WIRE 352 -864 336 -864
WIRE 640 -864 624 -864
WIRE -832 -832 -848 -832
WIRE 1184 -832 1184 -896
WIRE 624 -800 624 -864
WIRE 640 -800 624 -800
WIRE 720 -800 720 -864
WIRE 720 -800 704 -800
WIRE -1088 -752 -1104 -752
WIRE -1024 -752 -1088 -752
WIRE 256 -752 256 -944
WIRE 336 -752 336 -864
WIRE 352 -752 336 -752
WIRE -928 -736 -928 -832
WIRE -912 -736 -928 -736
WIRE -112 -736 -608 -736
WIRE 432 -736 432 -864
WIRE 432 -736 416 -736
WIRE 512 -736 432 -736
WIRE 624 -736 624 -800
WIRE 624 -736 592 -736
WIRE 640 -736 624 -736
WIRE -832 -720 -832 -832
WIRE -832 -720 -848 -720
WIRE -816 -720 -832 -720
WIRE -608 -720 -608 -736
WIRE -608 -720 -752 -720
WIRE 48 -720 -48 -720
WIRE 64 -720 48 -720
WIRE 256 -720 256 -752
WIRE 256 -720 128 -720
WIRE 352 -720 336 -720
WIRE 720 -720 720 -800
WIRE 720 -720 704 -720
WIRE 768 -720 720 -720
WIRE -1024 -704 -1360 -704
WIRE -944 -704 -944 -752
WIRE -912 -704 -944 -704
WIRE -144 -704 -240 -704
WIRE -112 -704 -144 -704
WIRE 640 -704 624 -704
WIRE 1184 -672 1184 -736
WIRE -1024 -656 -1328 -656
WIRE -944 -656 -944 -704
WIRE 592 -656 592 -736
WIRE -240 -624 -240 -704
WIRE -144 -608 -144 -704
WIRE -96 -608 -144 -608
WIRE 48 -608 48 -720
WIRE 48 -608 -32 -608
WIRE 336 -592 336 -720
WIRE 432 -592 432 -608
WIRE -224 -560 -224 -576
WIRE -224 -560 -240 -560
WIRE -240 -528 -240 -560
WIRE 624 -528 384 -528
WIRE 720 -528 704 -528
WIRE -1360 -448 -1360 -704
WIRE -1072 -448 -1360 -448
WIRE 640 -432 624 -432
WIRE 720 -432 720 -528
WIRE -496 -416 -512 -416
WIRE -928 -400 -944 -400
WIRE -1152 -368 -1168 -368
WIRE -1072 -368 -1072 -448
WIRE 624 -368 624 -432
WIRE 640 -368 624 -368
WIRE 720 -368 720 -432
WIRE 720 -368 704 -368
WIRE -688 -336 -768 -336
WIRE -592 -320 -592 -416
WIRE -576 -320 -592 -320
WIRE -944 -304 -944 -400
WIRE -928 -304 -944 -304
WIRE -496 -304 -496 -416
WIRE -496 -304 -512 -304
WIRE 448 -304 -496 -304
WIRE 624 -304 624 -368
WIRE 624 -304 592 -304
WIRE 640 -304 624 -304
WIRE -1168 -288 -1168 -368
WIRE -1152 -288 -1168 -288
WIRE -848 -288 -848 -400
WIRE -848 -288 -864 -288
WIRE -688 -288 -848 -288
WIRE -608 -288 -608 -336
WIRE -576 -288 -608 -288
WIRE 720 -288 720 -368
WIRE 720 -288 704 -288
WIRE 768 -288 720 -288
WIRE -1072 -272 -1072 -368
WIRE -1072 -272 -1088 -272
WIRE -928 -272 -944 -272
WIRE 640 -272 624 -272
WIRE -1264 -256 -1424 -256
WIRE -1168 -256 -1184 -256
WIRE -1152 -256 -1168 -256
WIRE 592 -256 592 -304
WIRE -608 -240 -608 -288
WIRE -944 -208 -944 -272
WIRE -848 -208 -944 -208
WIRE -608 -208 -608 -240
WIRE -1168 -176 -1168 -256
WIRE -1152 -176 -1168 -176
WIRE -1072 -176 -1072 -272
WIRE -848 -112 -848 -128
WIRE -608 -112 -608 -128
WIRE -1328 -48 -1328 -656
WIRE -1072 -48 -1328 -48
WIRE -688 -48 -688 -240
WIRE -688 -48 -1072 -48
WIRE 592 -48 592 -176
WIRE 720 -48 592 -48
WIRE -496 32 -512 32
WIRE 640 32 624 32
WIRE 720 32 720 -48
WIRE -928 48 -944 48
WIRE -1152 80 -1168 80
WIRE -1072 80 -1072 -48
WIRE -688 112 -784 112
WIRE -592 128 -592 32
WIRE -576 128 -592 128
WIRE -944 144 -944 48
WIRE -928 144 -944 144
WIRE -496 144 -496 32
WIRE -496 144 -512 144
WIRE 448 144 -496 144
WIRE 624 144 624 32
WIRE 624 144 592 144
WIRE 640 144 624 144
WIRE -1168 160 -1168 80
WIRE -1152 160 -1168 160
WIRE -848 160 -848 48
WIRE -848 160 -864 160
WIRE -688 160 -848 160
WIRE -608 160 -608 112
WIRE -576 160 -608 160
WIRE 720 160 720 32
WIRE 720 160 704 160
WIRE -1072 176 -1072 80
WIRE -1072 176 -1088 176
WIRE -928 176 -944 176
WIRE 640 176 624 176
WIRE -1264 192 -1408 192
WIRE -1168 192 -1184 192
WIRE -1152 192 -1168 192
WIRE -608 208 -608 160
WIRE -944 240 -944 176
WIRE -848 240 -944 240
WIRE -608 240 -608 208
WIRE -1168 272 -1168 192
WIRE -1152 272 -1168 272
WIRE -1072 272 -1072 176
WIRE -848 336 -848 320
WIRE -608 336 -608 320
WIRE -1360 416 -1360 -448
WIRE -688 416 -688 208
WIRE -688 416 -1360 416
FLAG -544 -336 +5
FLAG -544 -272 -5
FLAG -816 592 0
FLAG -1280 592 0
FLAG -1120 -304 +5
FLAG -1120 -240 -5
FLAG -896 -320 +5
FLAG -896 -256 -5
FLAG -1008 -304 0
FLAG -1008 -400 0
FLAG -1008 -192 0
FLAG -672 -416 0
FLAG -768 -336 -5
FLAG -896 128 +5
FLAG -896 192 -5
FLAG -1008 144 0
FLAG -1008 48 0
FLAG -1008 256 0
FLAG -848 336 0
FLAG -848 -112 0
FLAG -544 112 +5
FLAG -544 176 -5
FLAG -672 32 0
FLAG -784 112 -5
FLAG -1168 -112 0
FLAG -1248 -368 0
FLAG -1120 144 +5
FLAG -1120 208 -5
FLAG -1168 336 0
FLAG -1248 80 0
FLAG 672 -320 +5
FLAG 672 -256 -5
FLAG 672 128 +5
FLAG 672 192 -5
FLAG 624 176 0
FLAG 624 -272 0
FLAG -608 -112 0
FLAG -608 336 0
FLAG 768 -288 Inhibitor
IOPIN 768 -288 Out
FLAG -880 -752 +5
FLAG -880 -688 -5
FLAG -1008 -832 0
FLAG -1088 -832 0
FLAG 384 -768 +5
FLAG 384 -704 -5
FLAG -1184 -752 -5
FLAG 672 -752 +5
FLAG 672 -688 -5
FLAG 624 -704 0
FLAG 592 -576 0
FLAG 432 -608 0
FLAG 768 -720 Hebbian
IOPIN 768 -720 Out
FLAG 768 -944 Sombrero
IOPIN 768 -944 Out
FLAG 560 336 0
FLAG 688 336 0
FLAG 688 256 -5
FLAG 560 256 +5
FLAG -1408 192 Tpost
IOPIN -1408 192 In
FLAG -1280 512 Tpost
IOPIN -1280 512 Out
FLAG -1424 -256 Tpre
IOPIN -1424 -256 In
FLAG -816 512 Tpre
IOPIN -816 512 Out
FLAG -944 -576 0
FLAG -80 -688 +5
FLAG -80 -752 -5
FLAG -240 -528 0
FLAG 1184 -672 0
FLAG -80 -592 0
FLAG -608 -1088 0
FLAG -48 -592 mod
FLAG -208 -1344 a3c
FLAG -224 -608 a3c
FLAG -352 -1312 -5
FLAG -352 -1376 +5
FLAG -608 -1408 a2c
FLAG -592 -1328 +5
FLAG -432 -1248 0
FLAG -608 -1168 mod
FLAG 1184 -896 Hebbian
IOPIN 1184 -896 Out
SYMBOL Opamps\\UniversalOpamp2 -544 -304 R0
SYMATTR InstName U1
SYMBOL res -496 -432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 300K
SYMBOL res -624 -224 R0
SYMATTR InstName R2
SYMATTR Value 10K
SYMBOL res -592 -304 R90
WINDOW 0 8 128 VBottom 2
WINDOW 3 20 127 VTop 2
SYMATTR InstName R3
SYMATTR Value 100K
SYMBOL Opamps\\UniversalOpamp2 -1120 -272 R0
SYMATTR InstName U2
SYMBOL cap -1152 -112 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL res -1168 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10K
SYMBOL res -1168 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10K
SYMBOL res -1056 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10K
SYMBOL res -592 -256 R90
WINDOW 0 40 132 VBottom 2
WINDOW 3 45 130 VTop 2
SYMATTR InstName R7
SYMATTR Value 100K
SYMBOL Opamps\\UniversalOpamp2 -896 -288 R0
SYMATTR InstName U3
SYMBOL diode -1008 -288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D1
SYMBOL diode -1008 -256 R270
WINDOW 0 -36 37 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D2
SYMBOL res -864 -304 R0
SYMATTR InstName R8
SYMATTR Value 1Meg
SYMBOL res -832 -112 R180
WINDOW 0 58 71 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 600K
SYMBOL res -1024 -288 R0
WINDOW 0 32 126 Left 2
WINDOW 3 30 158 Left 2
SYMATTR InstName R10
SYMATTR Value 100K
SYMBOL cap -1008 -288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 0.02µ
SYMBOL res -832 -416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 20K
SYMBOL cap -944 -416 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 600n
SYMBOL res -688 -400 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R12
SYMATTR Value 10K
SYMBOL diode 448 -288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D3
SYMBOL res -592 -352 R90
WINDOW 0 -24 131 VBottom 2
WINDOW 3 -15 125 VTop 2
SYMATTR InstName R13
SYMATTR Value 100K
SYMBOL Opamps\\UniversalOpamp2 -896 160 R0
SYMATTR InstName U4
SYMBOL diode -1008 160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D4
SYMBOL diode -1008 192 R270
WINDOW 0 -33 36 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D5
SYMBOL res -864 144 R0
SYMATTR InstName R14
SYMATTR Value 1Meg
SYMBOL res -832 336 R180
WINDOW 0 45 74 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R15
SYMATTR Value 600K
SYMBOL res -1024 160 R0
WINDOW 0 34 121 Left 2
WINDOW 3 30 155 Left 2
SYMATTR InstName R16
SYMATTR Value 100K
SYMBOL res -832 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 20K
SYMBOL cap -944 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 600n
SYMBOL cap -1008 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 0.02µ
SYMBOL Opamps\\UniversalOpamp2 -544 144 R0
SYMATTR InstName U5
SYMBOL res -496 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 300K
SYMBOL res -624 224 R0
SYMATTR InstName R19
SYMATTR Value 10K
SYMBOL res -592 144 R90
WINDOW 0 16 130 VBottom 2
WINDOW 3 25 129 VTop 2
SYMATTR InstName R20
SYMATTR Value 100K
SYMBOL res -592 192 R90
WINDOW 0 55 133 VBottom 2
WINDOW 3 68 132 VTop 2
SYMATTR InstName R21
SYMATTR Value 100K
SYMBOL res -688 48 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R22
SYMATTR Value 10K
SYMBOL diode 448 160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D6
SYMBOL res -592 96 R90
WINDOW 0 -19 133 VBottom 2
WINDOW 3 -9 132 VTop 2
SYMATTR InstName R23
SYMATTR Value 100K
SYMBOL res 736 -448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 30K
SYMBOL res 608 -320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R25
SYMATTR Value 15K
SYMBOL res 608 -160 R180
WINDOW 0 36 76 Left 2
WINDOW 3 43 40 Left 2
SYMATTR InstName R26
SYMATTR Value 15K
SYMBOL res -1056 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 1Meg
SYMBOL res -1152 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value 1Meg
SYMBOL Opamps\\UniversalOpamp2 -1120 176 R0
SYMATTR InstName U6
SYMBOL cap -1152 336 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C6
SYMATTR Value 1µ
SYMBOL res -1056 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R29
SYMATTR Value 10K
SYMBOL res -1056 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R30
SYMATTR Value 1Meg
SYMBOL res -1152 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R31
SYMATTR Value 1Meg
SYMBOL Opamps\\UniversalOpamp2 672 -288 R0
SYMATTR InstName U7
SYMBOL res 736 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R32
SYMATTR Value 10K
SYMBOL Opamps\\UniversalOpamp2 672 160 R0
SYMATTR InstName U8
SYMBOL res 608 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R33
SYMATTR Value 10K
SYMBOL cap 704 -384 R90
WINDOW 0 -4 -60 VBottom 2
WINDOW 3 2 -70 VTop 2
SYMATTR InstName C7
SYMATTR Value 0.5µ
SYMBOL Opamps\\UniversalOpamp2 -880 -720 R0
SYMATTR InstName U9
SYMBOL res -832 -848 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R34
SYMATTR Value 150K
SYMBOL res -960 -672 R0
SYMATTR InstName R35
SYMATTR Value 10K
SYMBOL res -928 -720 R90
WINDOW 0 12 120 VBottom 2
WINDOW 3 23 117 VTop 2
SYMATTR InstName R36
SYMATTR Value 100K
SYMBOL res -1024 -816 R270
WINDOW 0 85 55 VTop 2
WINDOW 3 76 50 VBottom 2
SYMATTR InstName R37
SYMATTR Value 10K
SYMBOL res -928 -768 R90
WINDOW 0 -21 45 VBottom 2
WINDOW 3 -21 41 VTop 2
SYMATTR InstName R38
SYMATTR Value 100K
SYMBOL res -1104 -848 R0
SYMATTR InstName R39
SYMATTR Value 100K
SYMBOL res -1088 -768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R40
SYMATTR Value 50K
SYMBOL diode -816 -704 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D7
SYMBOL res 448 -880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R41
SYMATTR Value 120K
SYMBOL Opamps\\UniversalOpamp2 384 -736 R0
SYMATTR InstName U10
SYMBOL res 352 -768 R90
WINDOW 0 -53 52 VBottom 2
WINDOW 3 -42 52 VTop 2
SYMATTR InstName R42
SYMATTR Value 100K
SYMBOL res 352 -736 R90
WINDOW 0 76 58 VBottom 2
WINDOW 3 87 57 VTop 2
SYMATTR InstName R43
SYMATTR Value 100K
SYMBOL npn 336 -528 R270
WINDOW 0 56 32 VRight 2
WINDOW 3 56 68 Invisible 2
SYMATTR InstName Q1
SYMBOL res 736 -880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 60 56 VBottom 2
SYMATTR InstName R44
SYMATTR Value 35K
SYMBOL res 608 -752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R45
SYMATTR Value 15K
SYMBOL res 608 -560 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R46
SYMATTR Value 15K
SYMBOL Opamps\\UniversalOpamp2 672 -720 R0
SYMATTR InstName U11
SYMBOL cap 704 -816 R90
WINDOW 0 8 -66 VBottom 2
WINDOW 3 11 -75 VTop 2
SYMATTR InstName C8
SYMATTR Value 0.5µ
SYMBOL res 608 -512 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R47
SYMATTR Value 1K
SYMBOL voltage 560 240 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage 688 352 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL Misc\\signal -1280 496 R0
WINDOW 0 24 16 Invisible 2
WINDOW 3 62 -8 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 3 50m 0 0 20m 118m)
SYMBOL Misc\\signal -816 496 R0
WINDOW 0 24 16 Invisible 2
WINDOW 3 64 -8 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value PULSE(0 3 10m 0 0 20m 120m)
SYMBOL res -928 -672 R90
WINDOW 0 51 117 VBottom 2
WINDOW 3 61 116 VTop 2
SYMATTR InstName R48
SYMATTR Value 100K
SYMBOL Opamps\\UniversalOpamp2 -80 -720 M180
SYMATTR InstName U12
SYMBOL diode 64 -704 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D8
SYMBOL memristor 1184 -784 R0
SYMATTR InstName U13
SYMBOL SpecialFunctions\\varistor -256 -656 M0
SYMATTR InstName A1
SYMBOL SpecialFunctions\\varistor 0 -624 M270
WINDOW 3 -125 107 Left 2
SYMATTR InstName A2
SYMATTR Value Rclamp=1
SYMBOL voltage -608 -1184 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value PWL(0 0 6 0 7 0.5 13 0.5 14 1 20 1 21 1.5)
SYMBOL Opamps\\UniversalOpamp2 -352 -1344 R0
SYMATTR InstName U14
SYMBOL res -448 -1312 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R49
SYMATTR Value 100k
SYMBOL res -448 -1232 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R50
SYMATTR Value 100k
SYMBOL res -448 -1424 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R51
SYMATTR Value 100k
SYMBOL res -288 -1488 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R52
SYMATTR Value 100k
SYMBOL diode -272 -1328 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D9
TEXT 552 552 Left 2 !.tran 0 27 0 1000u
