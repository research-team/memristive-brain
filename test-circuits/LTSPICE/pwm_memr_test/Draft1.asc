Version 4
SHEET 1 1444 820
WIRE 336 -16 256 -16
WIRE 592 -16 336 -16
WIRE 256 0 256 -16
WIRE 336 0 336 -16
WIRE 656 16 544 16
WIRE 688 16 656 16
WIRE 16 80 -128 80
WIRE 544 96 544 16
WIRE 560 96 544 96
WIRE 336 112 336 80
WIRE 384 112 336 112
WIRE 528 112 448 112
WIRE 688 112 688 16
WIRE 688 112 624 112
WIRE 864 112 688 112
WIRE 528 128 528 112
WIRE 560 128 528 128
WIRE 336 144 336 112
WIRE -128 160 -128 80
WIRE -112 160 -128 160
WIRE 528 160 528 128
WIRE 16 176 16 80
WIRE 16 176 -48 176
WIRE -160 192 -288 192
WIRE -112 192 -160 192
WIRE 16 192 16 176
WIRE 176 192 16 192
WIRE 256 192 256 80
WIRE 256 192 240 192
WIRE 272 192 256 192
WIRE 1328 240 1312 240
WIRE 1344 240 1328 240
WIRE 1440 240 1424 240
WIRE 864 256 864 112
WIRE 912 256 864 256
WIRE 336 288 336 240
WIRE 528 288 528 224
WIRE 1328 320 1328 240
WIRE 1344 320 1328 320
WIRE 1440 336 1440 240
WIRE 1440 336 1408 336
WIRE 992 352 992 256
WIRE 1152 352 992 352
WIRE 1344 352 1152 352
WIRE 320 384 240 384
WIRE 576 384 320 384
WIRE 912 384 864 384
WIRE 992 384 992 352
WIRE 240 400 240 384
WIRE 320 400 320 384
WIRE 672 416 528 416
WIRE 1152 416 1152 352
WIRE -16 496 -160 496
WIRE 528 496 528 416
WIRE 544 496 528 496
WIRE 320 512 320 480
WIRE 368 512 320 512
WIRE 512 512 432 512
WIRE 672 512 672 416
WIRE 672 512 608 512
WIRE 864 512 864 384
WIRE 864 512 672 512
WIRE 512 528 512 512
WIRE 544 528 512 528
WIRE 1152 528 1152 496
WIRE 320 544 320 512
WIRE 512 560 512 528
WIRE -160 576 -160 496
WIRE -144 576 -160 576
WIRE -16 592 -16 496
WIRE -16 592 -80 592
WIRE 160 592 -16 592
WIRE 240 592 240 480
WIRE 240 592 224 592
WIRE 256 592 240 592
WIRE -288 608 -288 192
WIRE -288 608 -432 608
WIRE -144 608 -288 608
WIRE -432 640 -432 608
WIRE 320 688 320 640
WIRE 512 688 512 624
FLAG 528 288 0
FLAG 336 288 0
FLAG 592 -16 +5
FLAG -80 144 +5
FLAG 592 80 +5
FLAG 656 16 pwm_out
FLAG -608 352 0
FLAG -480 352 0
FLAG -480 272 -5
FLAG -608 272 +5
FLAG -1200 464 0
FLAG -160 192 inp
FLAG -80 208 0
FLAG 592 144 -5
FLAG 512 688 0
FLAG 320 688 0
FLAG 576 480 +5
FLAG 576 544 -5
FLAG 576 384 -5
FLAG -432 720 0
FLAG -112 624 -5
FLAG -112 560 0
FLAG 1376 304 +5
FLAG 1376 368 -5
FLAG 1232 240 0
FLAG 1152 528 0
SYMBOL cap 240 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 2.2µ
SYMBOL res 240 -16 R0
SYMATTR InstName R1
SYMATTR Value 10K
SYMBOL res 320 -16 R0
SYMATTR InstName R2
SYMATTR Value 10K
SYMBOL npn 272 144 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL cap 448 96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 0.1µ
SYMBOL diode 544 224 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value RF05VA1S
SYMBOL Opamps\\UniversalOpamp2 -80 176 R0
SYMATTR InstName U1
SYMBOL Opamps\\UniversalOpamp2 592 112 R0
SYMATTR InstName U2
SYMBOL voltage -608 256 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -480 368 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL voltage -1200 368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PWL file=test_signal1.txt
SYMBOL cap 224 576 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 2.2µ
SYMBOL res 224 384 R0
SYMATTR InstName R3
SYMATTR Value 10K
SYMBOL res 304 384 R0
SYMATTR InstName R4
SYMATTR Value 10K
SYMBOL cap 432 496 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 0.1µ
SYMBOL diode 496 560 R0
SYMATTR InstName D2
SYMATTR Value RF05VA1S
SYMBOL Opamps\\UniversalOpamp2 576 512 R0
SYMATTR InstName U3
SYMBOL pnp 256 640 M180
SYMATTR InstName Q3
SYMATTR Value BC858B
SYMBOL Opamps\\UniversalOpamp2 -112 592 R0
SYMATTR InstName U4
SYMBOL voltage -432 624 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PWL file=test_signal2.txt
SYMBOL Opamps\\UniversalOpamp2 1376 336 R0
SYMATTR InstName U5
SYMBOL res 1008 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100K
SYMBOL res 1008 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100K
SYMBOL res 1168 512 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 100K
SYMBOL res 1328 256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R8
SYMATTR Value 200K
SYMBOL res 1216 256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value 100K
TEXT -866 376 Left 2 !.tran 2
